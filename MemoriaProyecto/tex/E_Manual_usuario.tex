\apendice{Documentación de usuario}

\section{Introducción}
Este documento detalla cómo un usuario, puede utilizar la aplicación una vez desplegada en un servidor.
\section{Requisitos de usuarios}
Los requisitos para poder utilizar la aplicación son:
\begin{itemize}
	\tightlist
	\item Tener la aplicación desplegada en algún servidor.
	\item Disponer de conexión al servidor y tener instalado un navegador web con el que poder acceder a la aplicación. Se recomienda:
	\begin{itemize}
		\tightlist
		\item Google Chrome Versión 75.0.3770.100 o superior
		\item Firefox Quantum Versión 67.0.4 o superior
		\item IE11 Versión 11.829.17134.0 o superior
		\item Opera Versión:62.0.3331.18 o superior
	\end{itemize}
\end{itemize}
\section{Instalación}
Al ser una aplicación web no requiere instalación. Solo es necesario desplegar la aplicación en un servidor.
\section{Manual del usuario}
La aplicación permite añadir proyectos de GitLab y evaluarlos mediante métricas de evolución.\\
\subsection{Conceptos}
Para utilizar la aplicación es importante entender los siguientes conceptos:\\
\textbf{\textit{Medición}}\\
El proceso de medición es un proceso en el que se asignan números o símbolos a atributos de entidades del mundo real, de tal forma que los caracteriza a través de reglas.\\
\textbf{\textit{Métrica}}\\
Medida cuantitativa del grado en que un sistema, componente o proceso posee un atributo dado (IEEE, 1993).\\
\textbf{\textit{Indicador}}\\
Métrica o combinación de métricas que proporcionan una visión profunda del proceso, del proyecto o del producto.\\
\textbf{\textit{Métrica de evolución}}\\
Es una métrica que mide un atributo del proceso de desarrollo de un producto software.\\
\textbf{\textit{Evaluación}}\\
Es uno de los objetivos del proceso de medición. Consiste en determinar el estado de un proyecto en relación con otros proyectos de la misma naturaleza.\\
\textbf{\textit{Proyecto (software)}}\\
Proyecto en el cual se desarrolla un producto software.\\
\textbf{\textit{Repositorio de código}}\\
Lugar dónde se almacena el código de un proyecto software. A menudo cuentan con un sistema de control de versiones.\\
\textbf{\textit{Sistema de control de veriones (VCS - Version Control System)}}\\
Sistema que registra los cambios que se producen sobre los ficheros de un proyecto software almacenados en un repositorio de código.\\
\textbf{\textit{Sistema de seguimiento de incidencias (Issue tracking system)}}\\
Sistema que gestiona las diferentes tareas o incidentes que se definen en un proyecto software y que pueden ser asignadas a colaboradores del proyecto.

\subsubsection{Las métricas que se gestionan en la aplicación}
Las métricas que se calculan de los proyectos son un conjunto de métricas que proceden de la Master Tesis titulada \textit{sPACE: Software Project Assessment in the Course of Evolution} \cite{ratzinger_space:_2007}.\\\\
\textbf{\underline{I1 - Número total de issues}}
\begin{itemize}
	\tightlist
	\item \textbf{Categoría}: Proceso de Orientación
	\item \textbf{Descripción}: Número total de issues creadas en el repositorio
	\item \textbf{Propósito}: ¿Cuántas issues se han definido en el repositorio?
	\item \textbf{Fórmula}: NTI. NTI = número total de issues
	\item \textbf{Fuente de medición}: Repositorio de un gestor de repositorios
	\item \textbf{Interpretación}: NTI >= 0. Valores bajos indican que no se utiliza un Sistema de seguimiento de incidencias, podría ser porque el proyecto acaba de comenzar
	\item \textbf{Tipo de escala}: Absoluta
	\item \textbf{Tipo de medida}: NTI = Contador
\end{itemize}
\textbf{\underline{I2 - Commits por issue}}
\begin{itemize}
	\tightlist
	\item \textbf{Categoría}: Proceso de Orientación
	\item \textbf{Descripción}: Número de commits por issue
	\item \textbf{Propósito}: ¿Cuántos commits realizados por cada issue?
	\item \textbf{Fórmula}: CI = NTC/NTI. NTI = Numero total de issues, NTC = Número total de commits
	\item \textbf{Fuente de medición}: Repositorio de un gestor de repositorios
	\item \textbf{Interpretación}: CI >= 0, Si se acerca a 1 se definen bien las issues, si alto: no se definen bien las issues, si bajo: desarrollo del proyecto lento
	\item \textbf{Tipo de escala}: Ratio 
	\item \textbf{Tipo de medida}: NTI, NTC = Contador
\end{itemize}
\textbf{\underline{I3 - Porcentaje de issues cerradas}}
\begin{itemize}
	\tightlist
	\item \textbf{Categoría}: Proceso de Orientación
	\item \textbf{Descripción}: Porcentaje de issues cerradas
	\item \textbf{Propósito}: ¿Qué porcentaje de issues definidas en el repositorio se han cerrado?
	\item \textbf{Fórmula}: PIC = NTIC*100/NTI. NTIC = Número total de issues cerradas, NTI = Numero total de issues
	\item \textbf{Fuente de medición}: Repositorio de un gestor de repositorios
	\item \textbf{Interpretación}: 0 <= PIC <= 100. Cuanto más alto mejor
	\item \textbf{Tipo de escala}: Ratio
	\item \textbf{Tipo de medida}: NTI, NTIC = Contador
\end{itemize}
\textbf{\underline{TI1 - Media de días en cerrar una issue}}
\begin{itemize}
	\tightlist
	\item \textbf{Categoría}: Constantes de tiempo
	\item \textbf{Descripción}:  Media de días en cerrar una issue
	\item \textbf{Propósito}: ¿Cuánto se suele tardar en cerrar una issue? 
	\item \textbf{Fórmula}: MDCI = SUM(DCI) / NTIC . NTIC = Número total de issues cerradas, DCI = Días en cerrar la issue
	\item \textbf{Fuente de medición}: Repositorio de un gestor de repositorios
	\item \textbf{Interpretación}: MDCI >= 0. Cuanto más pequeño mejor.
	\item \textbf{Tipo de escala}: Ratio
	\item \textbf{Tipo de medida}: NTI, NTIC = Contador
\end{itemize}
\textbf{\underline{TC1 - Media de días entre commits}}
\begin{itemize}
	\tightlist
	\item \textbf{Categoría}: Constantes de tiempo
	\item \textbf{Descripción}: Media de días que pasan entre dos commits consecutivos
	\item \textbf{Propósito}: ¿Cúanto tiempo suele pasar desde un commit hasta el siguiente?
	\item \textbf{Fórmula}: MDEC = [Sumatorio de (TCi-TCj) desde i=1, j=0 hasta i=NTC] / NTC. NTC = Número total de commits, TC = Tiempo de Commit 
	\item \textbf{Fuente de medición}: Repositorio de un gestor de repositorios
	\item \textbf{Interpretación}: MDEC >= 0. Cuanto más pequeño mejor.
	\item \textbf{Tipo de escala}: Ratio
	\item \textbf{Tipo de medida}: NTC = Contador; TC = Tiempo
\end{itemize}
\textbf{\underline{TC2 - Días entre primer y último commit}}
\begin{itemize}
	\tightlist
	\item \textbf{Categoría}: Constantes de tiempo
	\item \textbf{Descripción}: Días transcurridos entre el primer y el ultimo commit 
	\item \textbf{Propósito}: ¿Cuantos días han pasado entre el primer y el último commit?
	\item \textbf{Fórmula}: DEPUC = TC2- TC1. TC2 = Tiempo de último commit, TC1 = Tiempo de primer commit.
	\item \textbf{Fuente de medición}: Repositorio de un gestor de repositorios
	\item \textbf{Interpretación}: DEPUC >= 0
	\item \textbf{Tipo de escala}: Absoluta
	\item \textbf{Tipo de medida}: TC = Tiempo
\end{itemize}
\textbf{\underline{TC3 - Ratio de actividad de commits por mes}}
\begin{itemize}
	\tightlist
	\item \textbf{Categoría}: Constantes de tiempo
	\item \textbf{Descripción}: Muestra el número de commits relativos al número de meses
	\item \textbf{Propósito}:¿Cuál es el número medio de cambios por mes?
	\item \textbf{Fórmula}: RCM = NTC / 12
	\item \textbf{Fuente de medición}: Repositorio de un gestor de repositorios
	\item \textbf{Interpretación}: RCM > 0. Cuanto más alto mejor
	\item \textbf{Tipo de escala}: Ratio
	\item \textbf{Tipo de medida}: NTC = Contador
\end{itemize}
\textbf{\underline{C1 - Número de commits en el mes pico}}
\begin{itemize}
	\tightlist
	\item \textbf{Categoría}: Constantes de tiempo
	\item \textbf{Descripción}: Número de commits en el mes que más commits se han realizado en relación con el número total de commits
	\item \textbf{Propósito}: ¿Cuál es la proporción de trabajo realizado en el mes con mayor número de cambios?
	\item \textbf{Fórmula}: CCP = NCMP / NTC. NCMP = Número de commits en el mes pico, NTC = Número total de commits
	\item \textbf{Fuente de medición}: Repositorio de un gestor de repositorios
	\item \textbf{Interpretación}: 0 <= CCP <= 1. Mejor valores intermedios
	\item \textbf{Tipo de escala}: Ratio
	\item \textbf{Tipo de medida}: NCMP, NTC = Contador
\end{itemize}

\subsection{Establecer una conexión a GitLab}
Una vez arrancada la aplicación se mostrará un diálogo que le pedirá elegir un tipo de conexión, tal y como se muestra en la figura \ref{fig:AnexE-MN-Fig1}.

\imagen{AnexE-MN-Fig1}{Diálogo de conexión}

Hay 5 posibilidades, que permiten establecer una conexión con la sesión iniciada, una conexión pública o utilizar la aplicación sin conexión:
\begin{figure}[h]
	\centering
	\begin{subfigure}{.45\textwidth}
		\centering
		\includegraphics[width=\linewidth]{AnexE-MN-Fig1-1}
		\caption{Conexión mediante usuario y contraseña}
		\label{fig:dialogo-conexion_contraseña}
	\end{subfigure}\hfill
	\begin{subfigure}{.45\textwidth}
		\centering
		\includegraphics[width=\linewidth]{AnexE-MN-Fig1-2}
		\caption{Conexión mediante \textit{Personal Access Token}}
		\label{fig:dialogo-conexion_token}
	\end{subfigure}
	\begin{subfigure}{.45\textwidth}
		\centering
		\includegraphics[width=\linewidth]{AnexE-MN-Fig1-3}
		\caption{Conexión publica}
		\label{fig:dialogo-conexion_publica}
	\end{subfigure}\hfill
	\begin{subfigure}{.45\textwidth}
		\centering
		\includegraphics[width=\linewidth]{AnexE-MN-Fig1-4}
		\caption{Sin conexión}
		\label{fig:dialogo-conexion_sin-conexion}
	\end{subfigure}
	\caption{Distintas formas de establecer una conexión}
	\label{fig:AnexE-MN-Fig1-}
\end{figure}
\begin{itemize}
	\tightlist
	\item \textbf{Iniciar sesión en GitLab mediante usuario y contraseña.} Se establece una conexión a GitLab iniciando sesión mediante un nombre de usuario y una contraseña. De esta forma se puede acceder a todos los repositorios públicos y privados accesibles desde ese usuario. Ver figura \ref{fig:dialogo-conexion_contraseña}.
	\item \textbf{Iniciar sesión en GitLab mediante \textit{Personal Access Token}.} Se establece una conexión a GitLab iniciando sesión mediante un \textit{Personal Access Token}. De esta forma se puede acceder a todos los repositorios públicos y privados accesibles desde el usuario, como ocurría en el caso anterior. 
	Si se accede a GitLab desde una \underline{cuenta externa} a GitLab como Google o GitHub, esta opción es la única manera de iniciar sesión con su cuenta de GitLab. Ver figura \ref{fig:dialogo-conexion_token}.
	\\
	Para generar un \textit{Personal Access Token} desde GitLab hay que iniciar sesión desde la web y entrar en la configuración del usuario. En el apartado de \textit{Access Token} se debe dar un nombre, opcionalmente una fecha de expiración y los permisos. Para utilizar la aplicación se necesitan estos permisos: \textit{api}, \textit{read\_user}, \textit{read\_repository}, \textit{read\_registry}. Una vez finalizado, pulsar sobre el botón "\textit{Create personal access token}", copiar el token y utilizarlo. Una vez se salga de la ventana en la que se muestra el token, no volverá a aparecer, por lo que se recomienda copiarlo en algún lado. Ver figura \ref{fig:AnexE-MN-Fig2}.
	\imagen{AnexE-MN-Fig2}{Crear un \textit{Personal Access Token} desde GitLab}
	\item \textbf{Usar una conexión pública hacia GitLab.} Se establece una conexión pública a GitLab sin iniciar sesión, por lo que solo se podrá acceder a repositorios públicos. Ver figura \ref{fig:dialogo-conexion_publica}.
	\item \textbf{No utilizar ninguna conexión.} No se realizará ninguna conexión a GitLab. Solo se podrá trabajar con proyectos y perfil de métricas importados y con el perfil de métricas por defecto. Ver figura \ref{fig:dialogo-conexion_sin-conexion}.
\end{itemize}

\subsection{Página principal}
\imagen{AnexE-MN-Fig3}{Página principal}
Una vez elegida por primera vez el tipo de conexión deseado se accede a la página principal, como se observa en la figura \ref{fig:AnexE-MN-Fig3}.\\
En la parte superior se puede observar un botón que indica el tipo de conexión actual.
\begin{itemize}
	\tightlist
	\item Si se ha iniciado sesión mediante usuario y contraseña o mediante un \textit{personal access token}, se mostrará la imágen del usuario y el texto: ``Connected as: <nombre de usuario>''
	\item Si se ha establecido una conexión pública, se mostrara el texto: ``Using a public connection''
	\item Y si no se ha establecido ninguna conexión, el texto mostrado será: ``No connection to GitLab''.
\end{itemize}
Para cambiar el tipo de conexión es obligatorio cerrar la conexión actual. Por ello se muestra el diálogo de la figura \ref{fig:AnexE-MN-Fig4-1} si existe una conexión y el diálogo de la figura \ref{fig:AnexE-MN-Fig4-2} si no existe conexión al pulsar sobre el botón de conexión. Al pulsar sobre ``\textit{Connect}'' o sobre ``\textit{Close connection}'' se abrirá el diálogo de conexión de la figuras \ref{fig:AnexE-MN-Fig1} y \ref{fig:AnexE-MN-Fig1-}.\\
A la derecha del botón se encuentra un botón que da acceso a este manual en la Wiki del proyecto.\\
\begin{figure}[h]
	\centering
	\begin{subfigure}{.45\textwidth}
		\centering
		\includegraphics[width=\linewidth]{AnexE-MN-Fig4-1}
		\caption{Cerrar conexión}
		\label{fig:AnexE-MN-Fig4-1}
	\end{subfigure}\hfill
	\begin{subfigure}{.45\textwidth}
		\centering
		\includegraphics[width=\linewidth]{AnexE-MN-Fig4-2}
		\caption{Establecer conexión}
		\label{fig:AnexE-MN-Fig4-2}
	\end{subfigure}
	\caption{Modificar tipo de conexión}
	\label{fig:AnexE-MN-Fig4}
\end{figure}
\subsubsection{Listado de proyectos}
En el centro de la página principal se pueden gestionar los proyectos. Consta de una barra de búsqueda, dos menús, y una tabla que visualiza las métricas de los proyectos que se añadan.\\
En el cuadro de búsqueda se filtrarán los repositorios por su nombre mientras se vaya escribiendo.\\
En el menú de ``\textit{Project management}'' existen estas opciones, como se muestra en la figura \ref{fig:AnexE-MN-Fig5-1}:
\begin{itemize}
	\tightlist
	\item \textbf{\textit{Add new}.} Permite añadir uno o varios proyectos.
	\item \textbf{\textit{Import}.} Permite importar proyectos a partir de un fichero previamente exportado.
	\item \textbf{\textit{Export}.} Permite exportar todos los proyectos existentes a un fichero, lo que permitirá su posterior importación. Se almacena en un fichero con foromato ``.emr''.
	\item \textbf{\textit{Export to CSV}.} Permite generar un fichero CSV que contenga toda la información de la tabla de proyectos. Este fichero no servirá para importar los proyectos posteriormente.
\end{itemize}
En el menú de ``\textit{Evaluate projects}'' existen estas opciones, como se muestra en la figura \ref{fig:AnexE-MN-Fig5-2}:
\begin{itemize}
	\tightlist
	\item \textbf{\textit{Evaluate with new profile}.} Permite evaluar los proyectos calculando los valores mínimos y máximos de cada métrica a partir de los repositorios actuales.
	\item \textbf{\textit{Evaluate with default profile}.} Permite evaluar los proyectos con un perfil por defecto creado a a partir de un conjunto de datos\footnote{\url{https://github.com/clopezno/clopezno.github.io/blob/master/agile_practices_experiment/DataSet_EvolutionSoftwareMetrics_FYP.csv}} de un estudio empírico de las métricas de evolución del software en trabajos finales de grado\cite{lopez_portal_2019}.
	\item \textbf{\textit{Evaluate with imported profile}.} Permite evaluar los proyectos a partir de un perfil de métricas previamente exportado.
	\item \textbf{\textit{Export actual profile}.} Permite exportar el perfil de métricas actual para su posterior importación. Se almacena en un fichero con foromato ``.emmp''.
\end{itemize}
\begin{figure}[h]
	\centering
	\begin{subfigure}{.45\textwidth}
		\centering
		\includegraphics[width=\linewidth]{AnexE-MN-Fig5-1}
		\caption{Menú: ``\textit{Project management}''}
		\label{fig:AnexE-MN-Fig5-1}
	\end{subfigure}\hfill
	\begin{subfigure}{.45\textwidth}
		\centering
		\includegraphics[width=\linewidth]{AnexE-MN-Fig5-2}
		\caption{Menú: ``\textit{Evaluate projects}''}
		\label{fig:AnexE-MN-Fig5-2}
	\end{subfigure}
	\caption{Menús del listado de repositorios}
	\label{fig:AnexE-MN-Fig5}
\end{figure}
\subsubsection{Añadir un proyecto}
\subsubsection{Importar proyectos}
\subsubsection{Exportar proyectos}
\subsubsection{Evaluar los proyectos}
\subsubsection{Exportar perfil de métricas}